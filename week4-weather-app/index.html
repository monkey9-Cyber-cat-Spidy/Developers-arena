<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Week 4 - Weather Dashboard</title>

    <!-- Google Font -->
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet" />

    <!-- Weather Icons CDN (main library) -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/weather-icons/2.0.10/css/weather-icons.min.css" />

    <!-- Local styles -->
    <link rel="stylesheet" href="css/style.css" />
    <link rel="stylesheet" href="css/weather-icons.css" />
    <link rel="stylesheet" href="css/responsive.css" />
</head>
<body class="theme-day">
    <div class="app-container">
        <header class="app-header">
            <div class="branding">
                <span class="logo">üå§Ô∏è</span>
                <div>
                    <h1>Weather Dashboard</h1>
                    <p>Week 4: Frontend Integration &amp; API Project</p>
                </div>
            </div>
            <div class="last-updated" id="lastUpdated" aria-live="polite"></div>
        </header>

        <main>
            <section class="controls">
                <form id="searchForm" class="search-form" autocomplete="off">
                    <label class="visually-hidden" for="searchInput">Search city</label>
                    <input
                        type="text"
                        id="searchInput"
                        class="search-input"
                        placeholder="Search city (e.g., New York)"
                        required
                        list="citySuggestions"
                    />
                    <datalist id="citySuggestions">
                        <option value="New York"></option>
                        <option value="London"></option>
                        <option value="Tokyo"></option>
                        <option value="Paris"></option>
                        <option value="Sydney"></option>
                        <option value="Mumbai"></option>
                        <option value="Berlin"></option>
                        <option value="Toronto"></option>
                    </datalist>
                    <button type="submit" class="btn primary">Search</button>
                    <button type="button" id="useLocationBtn" class="btn secondary">Use my location</button>
                </form>

                <div class="control-row">
                    <button type="button" id="unitToggle" class="btn tertiary">Switch to ¬∞F</button>
                </div>
            </section>

            <section class="favorites" aria-label="Favorite cities">
                <div class="favorites-header">
                    <h2>Favorite Cities</h2>
                    <button type="button" id="addFavoriteBtn" class="btn small">‚òÖ Add current city</button>
                </div>
                <div id="favoritesList" class="favorites-list"></div>
            </section>

            <section id="statusMessage" class="status-message" aria-live="polite"></section>

            <section id="currentWeather" class="current-weather" aria-label="Current weather"></section>

            <section id="forecast" class="forecast" aria-label="5-day forecast"></section>

            <section class="api-capabilities" aria-label="Weatherstack API capabilities">
                <h2>Weatherstack API Capabilities</h2>
                <p class="api-note">
                    This app currently uses the <strong>Current Weather</strong> endpoint. Other endpoints are available in Weatherstack,
                    but may require a higher subscription plan.
                </p>
                <div class="api-grid">
                    <div class="api-card active">
                        <h3>Current Weather API</h3>
                        <p>Live weather conditions for a given location.</p>
                        <ul>
                            <li>Latency: ~471 ms</li>
                            <li>Availability: 100%</li>
                            <li>Pass rate: 100%</li>
                            <li>Error rate: 0.00%</li>
                        </ul>
                        <span class="api-badge">Active</span>
                    </div>
                    <div class="api-card disabled">
                        <h3>Weather Forecast API</h3>
                        <p>Forecast weather for up to 14 days.</p>
                        <ul>
                            <li>Latency: ~418 ms</li>
                            <li>Availability: 100%</li>
                        </ul>
                        <span class="api-badge">Requires upgrade</span>
                    </div>
                    <div class="api-card disabled">
                        <h3>Historical Weather API</h3>
                        <p>Daily historical weather data for past dates.</p>
                        <ul>
                            <li>Latency: ~427 ms</li>
                            <li>Availability: 100%</li>
                        </ul>
                        <span class="api-badge">Requires upgrade</span>
                    </div>
                    <div class="api-card disabled">
                        <h3>Historical Time-Series API</h3>
                        <p>Hourly/time-series historical weather data.</p>
                        <ul>
                            <li>Latency: ~437 ms</li>
                            <li>Availability: 100%</li>
                        </ul>
                        <span class="api-badge">Requires upgrade</span>
                    </div>
                    <div class="api-card disabled">
                        <h3>Location Lookup / Autocomplete API</h3>
                        <p>Search and autocomplete for locations.</p>
                        <ul>
                            <li>Latency: ~389 ms</li>
                            <li>Availability: 100%</li>
                        </ul>
                        <span class="api-badge">Requires upgrade</span>
                    </div>
                </div>
            </section>
        </main>

        <footer class="app-footer">
            <p>Data from <a href="https://weatherstack.com" target="_blank" rel="noopener noreferrer">Weatherstack</a>. Built with Vanilla JS, HTML &amp; CSS.</p>
        </footer>
    </div>

    <!-- App scripts -->
    <script src="js/config.js"></script>
    <script src="js/storage.js"></script>
    <script src="js/weatherService.js"></script>
    <script src="js/ui.js"></script>
    <script src="js/app.js"></script>
</body>
</html>
